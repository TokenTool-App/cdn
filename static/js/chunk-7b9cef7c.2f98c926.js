(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b9cef7c","chunk-4155ed67"],{"0b9f":function(e,t,n){"use strict";n("e675")},32:function(e,t){},"39d9":function(e,t,n){"use strict";n.r(t),n("7db0"),n("caad"),n("d3b7");var a=n("c7eb"),s=n("1da1"),r=n("2909"),o=n("b85c"),i=n("5530"),c=(n("99af"),n("c740"),n("14d9"),n("a434"),n("b0c0"),n("a9e3"),n("b680"),n("159b"),n("64b9")),l=n("2f62"),u=n("05b3"),p=n("ed08"),d=function(e){window.open(e,"_blank")},m=n("7dbe5"),f=n("3f11"),b=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s){var r,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=[{memcmp:{offset:53,bytes:n}},{memcmp:{offset:85,bytes:s}}],e.prev=2,e.next=5,t.getProgramAccounts(f.c.OPENBOOK_MARKET,{commitment:"confirmed",filters:o});case 5:return e.sent.forEach((function(e){e.account&&r.push({pubkey:e.pubkey,market:f.d.decode(e.account.data)})})),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),y=n("1ac0"),k=n("901e"),v=n.n(k),T=n("8325"),h={name:"marketIdSuccess",props:{title:{type:String,default:""},dialogShow:{type:Boolean,default:!1},tx:{type:String,default:""}},directives:{clipboard:T.a},computed:{device:{get:function(){return this.$store.state.app.device}}},methods:{openUrl:function(){window.open(u.r.blockExplorerUrls+"tx/"+this.tx,"_blank")},clipboardSuccess:function(){this.$message.success(this.$t("success"))},handleClose:function(){this.$emit("closeDialog")}}},w=n("2877"),g=Object(w.a)(h,(function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"close-on-press-escape":!1,"close-on-click-modal":!1,center:!0,title:e.title,visible:e.dialogShow,width:"mobile"===e.device?"100%":"600px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogShow=t}}},[t("el-result",{attrs:{icon:"success",title:e.title}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(t){return e.openUrl()}}},[e._v(e._s(e.$t("sol.viewTxTips")))]),t("el-button",{attrs:{icon:"el-icon-circle-close"},on:{click:function(t){return e.handleClose()}}},[e._v(e._s(e.$t("other.cancel")))])],1)],1)}),[],!1,null,"ec57f200",null),x=g.exports,O=n("b3d3"),_={name:"liquidity",computed:Object(i.a)(Object(i.a)({},Object(l.d)({mySolAddress:function(e){return e.dapp.solWeb3.account},menu:function(e){return e.settings.menu},device:function(e){return e.app.device}})),{},{quoteTokenList:function(){var e,t=[{value:"So11111111111111111111111111111111111111112",label:"WSOL",is2022:!1,mintAddress:new c.PublicKey("So11111111111111111111111111111111111111112"),tokenBalance:this.solBalance,tokenName:"WSOL",symbol:"WSOL",decimals:9}],n=Object(o.a)(this.addressOptions);try{for(n.s();!(e=n.n()).done;){var a,s=e.value,i=Object(o.a)(t);try{for(i.s();!(a=i.n()).done;){var l=a.value;s.value.toLowerCase()===l.value.toLowerCase()&&(l.tokenBalance=s.tokenBalance,this.addressOptions.splice(this.addressOptions.indexOf(s),1))}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return this.addressOptionsQuoteToken=[].concat(t,Object(r.a)(this.addressOptions)),this.addressOptionsQuoteToken},showBtn:function(){return 1===this.onType?this.$t("sol.btnCreateLp"):2===this.onType?this.$t("sol.btnAddLp"):3===this.onType?this.$t("sol.btnRemoveLp"):4===this.onType?this.$t("sol.btnBurnLp"):void 0},showLpAmount:function(){return this.marketId&&this.marketId.value.poolTokenAccount?"0"===this.marketId.value.poolTokenAccount.amount?0:Object(p.e)(this.marketId.value.poolTokenAccount.amount,this.marketId.value.poolTokenAccount.decimals):0},showRemoveLpAmount:function(){if(0===this.form.lpAmount)return 0;if(!this.marketId.value.poolTokenAccount)return 0;if("0"===this.marketId.value.poolTokenAccount.amount)return 0;var e=Object(p.e)(this.marketId.value.poolTokenAccount.amount,this.marketId.value.poolTokenAccount.decimals);return e<=0?0:new v.a(e).multipliedBy(this.form.lpAmount/100).toFixed(this.marketId.value.poolTokenAccount.decimals)}}),directives:{clipboard:T.a},components:{LiquidtiySuccess:x,SolSelectToken:O.a},watch:{"form.baseToken":function(e){var t=this.addressOptions.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));if(!t)return this.form.baseTokenName="",this.form.baseTokenIs2022=!1,void(this.form.baseTokenDecimals=9);this.form.baseTokenName=t.symbol,this.form.baseTokenIs2022=t.is2022,this.form.baseTokenDecimals=Number(t.decimals),this.form.baseTokenBalance=new v.a(t.tokenBalance).toNumber()},"form.quoteToken":function(e){var t=this.addressOptionsQuoteToken.find((function(t){return t.value.toLowerCase()===e.toLowerCase()}));if(!t)return this.form.quoteTokenName="",this.form.quoteTokenIs2022=!1,void(this.form.quoteTokenDecimals=9);this.form.quoteTokenName=t.symbol,this.form.quoteTokenIs2022=t.is2022,this.form.quoteTokenDecimals=Number(t.decimals),this.form.quoteTokenBalance=new v.a(t.tokenBalance).toNumber()},mySolAddress:function(e){e&&this.initData()}},data:function(){return{allListToken:[],gas:{fast:"0.01",normal:"0.001",slow:"0.0001",custom:"0",default:"normal"},marks:{0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"},solBalance:0,onType:1,openWindowUrl:d,isStop:!1,web3:null,marketId:null,dialog:{selectToken:!1},loading:{select:!1,create:!1,dialog:!1,find:!1,title:"",tx:""},form:{startTime:null,baseTokenInitialLiquidity:1,quoteTokenInitialLiquidity:1,baseTokenDecimals:9,baseTokenIs2022:!1,quoteTokenIs2022:!1,quoteTokenDecimals:9,baseTokenName:"",baseToken:"",quoteTokenName:"",quoteToken:"",baseTokenBalance:0,quoteTokenBalance:0,lpAmount:100},addressOptions:[],addressOptionsQuoteToken:[],marketIdList:[]}},methods:{closeSelectToken:function(e){this.dialog.selectToken=!1,e&&-1===this.addressOptions.findIndex((function(t){return t.token===e.address}))&&this.addressOptions.unshift({decimals:e.decimals,is2022:!1,mintAddress:new c.PublicKey(e.address),symbol:e.symbol,token:e.address,tokenBalance:0,tokenName:e.name,value:e.address})},clipboardSuccess:function(){this.$message.success(this.$t("success"))},baseTokenHalf:function(){this.form.baseTokenBalance&&(this.form.baseTokenInitialLiquidity=new v.a(this.form.baseTokenBalance).dividedBy(2).toNumber())},baseTokenMax:function(){this.form.baseTokenBalance&&(this.form.baseTokenInitialLiquidity=this.form.baseTokenBalance)},quoteTokenHalf:function(){this.form.quoteTokenBalance&&(this.form.quoteTokenInitialLiquidity=new v.a(this.form.quoteTokenBalance).dividedBy(2).toNumber())},quoteTokenMax:function(){this.form.quoteTokenBalance&&(this.form.quoteTokenInitialLiquidity=this.form.quoteTokenBalance)},showAddr:function(e){return e.value&&"mobile"===this.device?e.symbol+" - "+Object(p.l)(e.value):e.symbol+" - "+e.value},findMarketId:function(){var e=this;return Object(s.a)(Object(a.a)().mark((function t(){var n,s,r,i,l,u,p,d,m;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.baseToken){t.next=3;break}return e.$message.error("base Token is not Null"),t.abrupt("return");case 3:if(e.form.quoteToken){t.next=6;break}return e.$message.error("quote Token is not Null"),t.abrupt("return");case 6:return e.loading.find=!0,e.marketIdList=[],e.marketId=null,n=new c.PublicKey(e.form.baseToken),s=new c.PublicKey(e.form.quoteToken),t.next=13,b(e.web3,e.form.baseToken,e.form.quoteToken);case 13:r=t.sent,i=Object(o.a)(r),t.prev=15,i.s();case 17:if((l=i.n()).done){t.next=32;break}return u=l.value,(p=f.b.getAssociatedPoolKeys({version:4,marketVersion:3,marketId:u.pubkey,baseMint:n,quoteMint:s,baseDecimals:Number(e.form.baseTokenDecimals),quoteDecimals:Number(e.form.quoteTokenDecimals),programId:f.c.AmmV4,marketProgramId:f.c.OPENBOOK_MARKET})).marketBaseVault=u.market.baseVault,p.marketQuoteVault=u.market.quoteVault,p.marketBids=u.market.bids,p.marketAsks=u.market.asks,p.marketEventQueue=u.market.eventQueue,t.next=27,e.findLp(p);case 27:d=t.sent,m={poolInfo:p,poolTokenAccount:d},e.marketIdList.push({label:u.pubkey.toBase58(),value:m});case 30:t.next=17;break;case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(15),i.e(t.t0);case 37:return t.prev=37,i.f(),t.finish(37);case 40:e.marketIdList.length>0&&(e.marketId=e.marketIdList[0]),e.loading.find=!1;case 42:case"end":return t.stop()}}),t,null,[[15,34,37,40]])})))()},findLp:function(e){var t=this;return Object(s.a)(Object(a.a)().mark((function n(){var s,r,o,l;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=new c.PublicKey(e.lpMint),r=new c.PublicKey(t.mySolAddress),n.next=5,Object(m.l)(t.web3,s,r);case 5:return o=n.sent,n.next=8,Object(m.c)(t.web3,e.lpMint);case 8:if(!(l=n.sent)){n.next=11;break}return n.abrupt("return",Object(i.a)(Object(i.a)({},l.info),{},{amount:o}));case 11:return n.abrupt("return",null);case 12:case"end":return n.stop()}}),n)})))()},checkOwner:function(e){var t=this;return Object(s.a)(Object(a.a)().mark((function n(){var s;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(m.c)(t.web3,e);case 2:if(!(s=n.sent)||!s.info){n.next=6;break}if(!s.info.freezeAuthority){n.next=6;break}return n.abrupt("return",!1);case 6:return n.abrupt("return",!0);case 7:case"end":return n.stop()}}),n)})))()},getPriorityFee:function(){return new v.a(this.gas[this.gas.default]).shiftedBy(9).toNumber()},onConfirm:function(){var e=this;return Object(s.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,1!==e.onType){t.next=4;break}return t.next=4,e.onCreateLp();case 4:if(3!==e.onType){t.next=7;break}return t.next=7,e.onRemoveLp();case 7:if(4!==e.onType){t.next=10;break}return t.next=10,e.onBurnLp();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),e.loading.create=!1,e.$message.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},onRemoveLp:function(){var e=this;return Object(s.a)(Object(a.a)().mark((function t(){var n,s,r,i,l,u,d,b,k,T,h,w,g,x,O,_,C,j,I;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.marketId&&e.marketId.value){t.next=3;break}return e.$message.error(e.$t("sol.marketIdError")),t.abrupt("return");case 3:if(e.marketId.value.poolTokenAccount&&!(e.marketId.value.poolTokenAccount.amount<=0)){t.next=6;break}return e.$message.error(e.$t("sol.insufficientLiquidityError")),t.abrupt("return");case 6:if(0!==e.form.lpAmount){t.next=9;break}return e.$message.error(e.$t("sol.insufficientLiquidityError")),t.abrupt("return");case 9:return e.loading.create=!0,n=new c.PublicKey(e.mySolAddress),t.next=13,e.web3.getTokenAccountsByOwner(n,{programId:y.d});case 13:s=t.sent,r=[],i=Object(o.a)(s.value);try{for(i.s();!(l=i.n()).done;)u=l.value,d=u.pubkey,b=u.account,r.push({pubkey:d,programId:b.owner,accountInfo:f.f.decode(b.data)})}catch(e){i.e(e)}finally{i.f()}return k=new f.g(y.d.toBase58(),e.marketId.value.poolInfo.lpMint,e.marketId.value.poolInfo.lpDecimals),T=new f.h(k,Object(f.j)(e.marketId.value.poolTokenAccount.amount)),e.form.lpAmount<100&&(h=new v.a(Object(p.d)(e.showRemoveLpAmount,e.marketId.value.poolTokenAccount.decimals)).toNumber(),T=new f.h(k,Object(f.j)(h))),t.next=22,f.b.makeRemoveLiquidityInstructionSimple({connection:e.web3,poolKeys:e.marketId.value.poolInfo,userKeys:{owner:n,payer:n,tokenAccounts:r},amountIn:T,makeTxVersion:f.i.V0});case 22:return w=t.sent,g=new c.Transaction,w.innerTransactions[0].instructions.forEach((function(e){g.add(e)})),t.next=28,Object(m.a)("removeFee",e.mySolAddress,e.getPriorityFee());case 28:return t.sent.instructions.forEach((function(e){g.add(e)})),t.next=32,e.web3.getLatestBlockhash("processed");case 32:return x=t.sent.blockhash,g.feePayer=n,g.recentBlockhash=x,O=Object(m.f)(),t.next=38,O.connect();case 38:return t.sent,t.next=41,O.signTransaction(g);case 41:return _=t.sent,t.next=45,e.web3.sendRawTransaction(_.serialize());case 45:C=t.sent,j=0;case 47:if(!(j<400)){t.next=61;break}return t.next=50,new Promise((function(e){return setTimeout(e,3e3)}));case 50:return t.next=52,e.web3.getSignatureStatus(C);case 52:if(!(I=t.sent).value||"confirmed"!==I.value.confirmationStatus&&"finalized"!==I.value.confirmationStatus){t.next=58;break}return e.loading.dialog=!0,e.loading.title=e.$t("sol.removeLpTips"),e.loading.tx=C,t.abrupt("break",61);case 58:j++,t.next=47;break;case 61:e.loading.create=!1;case 62:case"end":return t.stop()}}),t)})))()},onCreateLp:function(){var e=this;return Object(s.a)(Object(a.a)().mark((function t(){var n,s,r,i,l,d,b,k,T,h,w,g,x,O,_,C,j,I,q,A,S,B,$,L;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.baseToken){t.next=4;break}return e.$message.error(e.$t("sol.baseTokenError")),t.abrupt("return");case 4:if(e.form.quoteToken){t.next=7;break}return e.$message.error(e.$t("sol.quoteTokenError")),t.abrupt("return");case 7:if(!e.form.baseTokenIs2022&&!e.form.quoteTokenIs2022){t.next=10;break}return e.$message.error(e.$t("sol.notSupportTokenError")),t.abrupt("return");case 10:if(!(e.form.baseTokenInitialLiquidity<=0||e.form.baseTokenInitialLiquidity>e.form.baseTokenBalance)){t.next=13;break}return e.$message.error(e.$t("sol.baseLiquidityError")),t.abrupt("return");case 13:if(!(e.form.quoteTokenInitialLiquidity<=0||e.form.quoteTokenInitialLiquidity>e.form.quoteTokenBalance)){t.next=16;break}return e.$message.error(e.$t("sol.quoteLiquidityError")),t.abrupt("return");case 16:if(e.marketId){t.next=19;break}return e.$message.error(e.$t("sol.marketIdError")),t.abrupt("return");case 19:if(!(e.marketId.value.poolTokenAccount&&e.marketId.value.poolTokenAccount.amount&&e.marketId.value.poolTokenAccount.amount>=0)){t.next=22;break}return e.$message.error(e.$t("sol.RepCreateLiquidityError")),t.abrupt("return");case 22:return e.loading.create=!0,t.next=25,e.checkOwner(e.form.baseToken);case 25:if(t.sent){t.next=30;break}return e.$confirm(e.$t("sol.burnFreezeAuthorityTips"),e.$t("networkError.warning"),{confirmButtonText:e.$t("sol.jumpAdminTips"),cancelButtonText:e.$t("cancel"),type:"warning",center:!0}).then((function(){window.open("/createToken/sol","_blank")})).catch((function(){})),e.loading.create=!1,t.abrupt("return");case 30:return n=new c.PublicKey(e.mySolAddress),s=new v.a(Object(p.d)(e.form.baseTokenInitialLiquidity,parseInt(e.form.baseTokenDecimals))).toFixed(0),s=Object(f.j)(s),r=new v.a(Object(p.d)(e.form.quoteTokenInitialLiquidity,parseInt(e.form.quoteTokenDecimals))).toFixed(0),r=Object(f.j)(r),i=new f.g(y.d.toBase58(),e.form.baseToken,Number(e.form.baseTokenDecimals)),l=new f.g(y.d.toBase58(),e.form.quoteToken,Number(e.form.quoteTokenDecimals)),d=e.form.startTime?Math.floor(e.form.startTime.getTime()/1e3):Math.floor(Date.now()/1e3),t.next=40,e.web3.getTokenAccountsByOwner(n,{programId:y.d});case 40:b=t.sent,k=[],T=Object(o.a)(b.value);try{for(T.s();!(h=T.n()).done;)w=h.value,g=w.pubkey,x=w.account,k.push({pubkey:g,programId:x.owner,accountInfo:f.f.decode(x.data)})}catch(e){T.e(e)}finally{T.f()}return O=new c.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),_=new c.PublicKey(e.marketId.label),C=new c.Connection(u.r.rpcUrls,"confirmed"),t.next=52,f.b.makeCreatePoolV4InstructionV2Simple({connection:C,programId:f.c.AmmV4,marketInfo:{marketId:_,programId:f.c.OPENBOOK_MARKET},baseMintInfo:i,quoteMintInfo:l,baseAmount:s,quoteAmount:r,startTime:d,ownerInfo:{feePayer:n,wallet:n,tokenAccounts:k,useSOLBalance:!0},associatedOnly:!1,checkCreateATAOwner:!0,makeTxVersion:f.i.V0,feeDestinationId:O});case 52:return j=t.sent,I=new c.Transaction,j.innerTransactions[0].instructions.forEach((function(e){I.add(e)})),t.next=58,Object(m.a)("burnToken",e.mySolAddress,e.getPriorityFee());case 58:return t.sent.instructions.forEach((function(e){I.add(e)})),t.next=62,e.web3.getLatestBlockhash("processed");case 62:return q=t.sent.blockhash,I.feePayer=n,I.recentBlockhash=q,A=Object(m.f)(),t.next=68,A.connect();case 68:return t.sent,t.next=71,A.signTransaction(I);case 71:return S=t.sent,t.next=75,e.web3.sendRawTransaction(S.serialize());case 75:B=t.sent,$=0;case 77:if(!($<400)){t.next=91;break}return t.next=80,new Promise((function(e){return setTimeout(e,3e3)}));case 80:return t.next=82,e.web3.getSignatureStatus(B);case 82:if(!(L=t.sent).value||"confirmed"!==L.value.confirmationStatus&&"finalized"!==L.value.confirmationStatus){t.next=88;break}return e.loading.dialog=!0,e.loading.title=e.$t("sol.createLpTips"),e.loading.tx=B,t.abrupt("break",91);case 88:$++,t.next=77;break;case 91:e.loading.create=!1;case 92:case"end":return t.stop()}}),t)})))()},onBurnLp:function(){var e=this;return Object(s.a)(Object(a.a)().mark((function t(){var n,s,r,o,i,l,d,f,b,k,T,h,w,g,x,O;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.marketId&&e.marketId.value){t.next=3;break}return e.$message.error(e.$t("sol.marketIdError")),t.abrupt("return");case 3:if(e.marketId.value.poolTokenAccount&&!(e.marketId.value.poolTokenAccount.amount<=0)){t.next=6;break}return e.$message.error(e.$t("sol.insufficientLiquidityError")),t.abrupt("return");case 6:if(0!==e.form.lpAmount){t.next=9;break}return e.$message.error(e.$t("sol.insufficientLiquidityError")),t.abrupt("return");case 9:return t.next=11,e.$confirm(e.$t("createToken.destroyTokenTips"),e.$t("tokenLocks.Tips"),{confirmButtonText:e.$t("confirm"),cancelButtonText:e.$t("cancel"),type:"warning"}).then((function(){return!0})).catch((function(){return!1}));case 11:if(t.sent){t.next=14;break}return t.abrupt("return");case 14:return e.loading.create=!0,n=new c.PublicKey(e.mySolAddress),s=new c.PublicKey(u.r.feeAddress),r=e.marketId.value.poolTokenAccount.amount,o=e.marketId.value.poolTokenAccount.decimals,i=new v.a(r).times(new v.a(10).pow(o)).toNumber(),e.form.lpAmount<100&&(i=new v.a(Object(p.d)(e.showRemoveLpAmount,e.marketId.value.poolTokenAccount.decimals)).toNumber()),l=e.marketId.value.poolInfo.lpMint,t.next=24,Object(m.j)(e.web3,l,n);case 24:return d=t.sent,(f=[]).push(Object(y.f)(d.pubkey,l,n,i)),f.push(c.SystemProgram.transfer({fromPubkey:n,toPubkey:s,lamports:BigInt(u.r.burnToken*c.LAMPORTS_PER_SOL)})),t.next=30,e.web3.getLatestBlockhash("max");case 30:return b=t.sent.blockhash,k=new c.TransactionMessage({payerKey:n,recentBlockhash:b,instructions:f}).compileToLegacyMessage(),T=new c.VersionedTransaction(k),h=Object(m.f)(),t.next=36,h.connect();case 36:return t.sent,t.next=39,h.signTransaction(T);case 39:return w=t.sent,t.next=42,e.web3.sendRawTransaction(w.serialize());case 42:g=t.sent,x=0;case 44:if(!(x<400)){t.next=58;break}return t.next=47,new Promise((function(e){return setTimeout(e,3e3)}));case 47:return t.next=49,e.web3.getSignatureStatus(g);case 49:if(!(O=t.sent).value||"confirmed"!==O.value.confirmationStatus&&"finalized"!==O.value.confirmationStatus){t.next=55;break}return e.loading.dialog=!0,e.loading.title=e.$t("sol.burnLpTips"),e.loading.tx=g,t.abrupt("break",58);case 55:x++,t.next=44;break;case 58:e.loading.create=!1;case 59:case"end":return t.stop()}}),t)})))()},onStop:function(){this.loading.create=!1,this.isStop=!1},shareDialogShow:function(){this.$store.dispatch("app/setShareDialogShow",!0)},initData:function(){var e=this;return Object(s.a)(Object(a.a)().mark((function t(){var n,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading.select=!0,!e.mySolAddress){t.next=12;break}return t.next=4,Object(m.g)(e.web3,e.mySolAddress);case 4:return e.solBalance=t.sent,t.next=8,Object(m.d)(e.web3,e.mySolAddress);case 8:n=t.sent,s=[],n.forEach((function(e){s.push(Object(i.a)(Object(i.a)({},e),{},{mintAddress:new c.PublicKey(e.mintAddress),value:e.mintAddress}))})),e.addressOptions=s;case 12:e.loading.select=!1;case 13:case"end":return t.stop()}}),t)})))()}},created:function(){this.$store.dispatch("dapp/registerSolana"),this.web3=new c.Connection(u.r.rpcUrls,"confirmed"),this.initData()}},C=_,j=(n("0b9f"),Object(w.a)(C,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"flexBox"},[t("div",{staticClass:"header"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"solana"}}),t("span",{staticClass:"headerTitle"},[e._v("Sol "+e._s(e.$t("sol.liquidityManage")))]),t("p",{staticStyle:{"font-size":"large"}},[e._v(e._s(e.$t("sol.liquidityManageTips")))])],1),t("div",{staticClass:"otherLink"},[t("el-link",{attrs:{target:"_blank",href:"https://tokentools.app/oneToMore/sol",type:"primary"}},[e._v(e._s(e.$t("sol.multiSender")))]),t("el-link",{attrs:{target:"_blank",href:"https://tokentools.app/batchSwap/sol",type:"primary"}},[t("svg-icon",{staticClass:"hot-icon",attrs:{"icon-class":"hot2"}}),e._v(e._s(e.$t("menu.batchSwapParam",["SOL"]))+" ")],1),t("el-link",{attrs:{target:"_blank",href:"https://tokentools.app/batchCollection/sol",type:"primary"}},[e._v(e._s(e.$t("sol.batchCollection")))]),t("el-link",{attrs:{target:"_blank",href:"https://tokentools.app/createWallet/sol",type:"primary"}},[e._v(e._s(e.$t("sol.batchWalletGen")))])],1),t("div",{staticClass:"content"},[t("div",{staticClass:"listTitle"},[t("span",{staticClass:"left"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"tools"}}),e._v(" TokenTools.App ")],1)]),t("div",{staticClass:"checkAll"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"share"},on:{click:function(t){return e.shareDialogShow()}}})],1),t("div",{staticClass:"tabDiv"},[t("ul",{staticClass:"tab"},[t("li",{class:1===e.onType?"on":"",on:{click:function(t){e.onType=1}}},[e._v(" "+e._s(e.$t("sol.btnCreateLp"))+" ")]),t("li",{class:3===e.onType?"on":"",on:{click:function(t){e.onType=3}}},[e._v(" ðŸ”¥"+e._s(e.$t("sol.btnRemoveLp"))+" ")]),t("li",{class:4===e.onType?"on":"",on:{click:function(t){e.onType=4}}},[e._v(" "+e._s(e.$t("sol.btnBurnLp"))+" ")])])]),t("el-form",{attrs:{"label-position":"top",model:e.form}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"baseToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.$t("sol.baseToken"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$t("sol.baseTokenTips"))+" ")]),t("i",{staticClass:"el-icon-question createTipsIcon"})])],1),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$t("sol.customTips1"))+" ")]),t("div",{staticClass:"custom",on:{click:function(t){e.dialog.selectToken=!0}}},[e._v(e._s(e.$t("sol.customTips")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.form.baseToken,expression:"form.baseToken"}],staticClass:"iconBox"},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.baseToken,expression:"form.baseToken",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"el-icon-copy-document copyIcon"})])],1),t("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],staticStyle:{width:"100%"},attrs:{"value-key":"address",filterable:"",clearable:"",placeholder:e.$t("pleaseChoose")},model:{value:e.form.baseToken,callback:function(t){e.$set(e.form,"baseToken",t)},expression:"form.baseToken"}},e._l(e.addressOptions,(function(n){return t("el-option",{key:n.address,attrs:{value:n.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(e.showAddr(n)))]),t("span",{staticStyle:{float:"right","margin-left":"20px",color:"rgb(132, 146, 166)","font-size":"13px"}},[e._v("Balance : "+e._s(n.tokenBalance))])])})),1)],1)],1),t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{prop:"quoteToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.$t("sol.quoteToken"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.$t("sol.quoteTokenTips"))+" ")]),t("i",{staticClass:"el-icon-question createTipsIcon"})])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.form.quoteToken,expression:"form.quoteToken"}],staticClass:"iconBox"},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.quoteToken,expression:"form.quoteToken",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"el-icon-copy-document copyIcon"})])]),t("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.select,expression:"loading.select"}],staticStyle:{width:"100%"},attrs:{"value-key":"address",filterable:"",clearable:"",placeholder:e.$t("pleaseChoose")},model:{value:e.form.quoteToken,callback:function(t){e.$set(e.form,"quoteToken",t)},expression:"form.quoteToken"}},e._l(e.quoteTokenList,(function(n){return t("el-option",{key:n.address,attrs:{value:n.value}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(e.showAddr(n)))]),t("span",{staticStyle:{float:"right","margin-left":"20px",color:"rgb(132, 146, 166)","font-size":"13px"}},[e._v("Balance : "+e._s(n.tokenBalance))])])})),1)],1)],1),[1,2].includes(e.onType)?t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{label:e.$t("sol.baseTokenInitialLiquidity"),prop:"baseTokenInitialLiquidity"}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{max:e.form.baseTokenBalance},model:{value:e.form.baseTokenInitialLiquidity,callback:function(t){e.$set(e.form,"baseTokenInitialLiquidity",t)},expression:"form.baseTokenInitialLiquidity"}}),t("div",{staticClass:"tokenInfoBox"},[t("div",{staticClass:"leftBox"},[t("span",[e._v("Balance: "+e._s(e.form.baseTokenBalance))])]),t("div",{staticClass:"rightBox"},[t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.baseTokenHalf()}}},[e._v(e._s(e.$t("sol.half")))]),t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.baseTokenMax()}}},[e._v(e._s(e.$t("sol.max")))])],1)])],1)],1):e._e(),[1,2].includes(e.onType)?t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{label:e.$t("sol.quoteTokenInitialLiquidity"),prop:"quoteTokenInitialLiquidity"}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{max:e.form.quoteTokenBalance},model:{value:e.form.quoteTokenInitialLiquidity,callback:function(t){e.$set(e.form,"quoteTokenInitialLiquidity",t)},expression:"form.quoteTokenInitialLiquidity"}}),t("div",{staticClass:"tokenInfoBox"},[t("div",{staticClass:"leftBox"},[t("span",[e._v("Balance: "+e._s(e.form.quoteTokenBalance))])]),t("div",{staticClass:"rightBox"},[t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.quoteTokenHalf()}}},[e._v(e._s(e.$t("sol.half")))]),t("el-tag",{staticClass:"tags",attrs:{type:"info",size:"mini"},on:{click:function(t){return e.quoteTokenMax()}}},[e._v(e._s(e.$t("sol.max")))])],1)])],1)],1):e._e(),t("el-col",{attrs:{span:24,xs:24}},[t("el-form-item",[t("span",{staticClass:"labelBox"},[t("span",{staticClass:"label"},[t("span",{staticStyle:{color:"rgb(255, 73, 73)"}},[e._v("*")]),e._v(" MARKET ID "),t("span",{directives:[{name:"show",rawName:"v-show",value:1===e.onType,expression:"onType===1"}]},[e._v(e._s(e.$t("sol.oneLiquidityTips")))])]),t("div",{staticClass:"labelRight"},[t("el-button",{attrs:{icon:"el-icon-link",size:"mini",type:"primary",plain:""},on:{click:function(t){return e.openWindowUrl("https://tokentools.app/sol/openbook-market")}}},[e._v(e._s(e.$t("sol.createMarketId")))]),t("el-button",{attrs:{loading:e.loading.find,icon:"el-icon-search",size:"mini",type:"primary",plain:""},on:{click:function(t){return e.findMarketId()}}},[e._v(e._s(e.$t("sol.findMarketId")))])],1)]),t("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"label",placeholder:e.$t("pleaseChoose")},model:{value:e.marketId,callback:function(t){e.marketId=t},expression:"marketId"}},e._l(e.marketIdList,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label,value:e}})})),1)],1)],1),1===e.onType?t("el-col",{attrs:{span:12,xs:24}},[t("el-form-item",[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.$t("sol.startTime"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("sol.startTimeTips1"))),t("br"),e._v(" "+e._s(e.$t("sol.startTimeTips2"))+" ")]),t("i",{staticClass:"el-icon-question createTipsIcon"})])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.form.baseToken,expression:"form.baseToken"}],staticClass:"iconBox"},[t("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.baseToken,expression:"form.baseToken",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"el-icon-copy-document copyIcon"})])]),t("el-date-picker",{staticClass:"oper",staticStyle:{width:"100%"},attrs:{clearable:!0,type:"datetime",placeholder:"Start Time"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)],1):e._e(),t("el-col",{staticStyle:{display:"none"},attrs:{span:12,xs:24}},[t("el-form-item",{attrs:{label:"Price:"}},[t("div",{staticClass:"tagsBox"},[t("div",{staticClass:"tags"},[t("el-tag",{attrs:{type:"primary",size:"mini"}},[e._v("1 Quote = 1 Base")])],1),t("div",{staticClass:"tags"},[t("el-tag",{staticClass:"tags",attrs:{type:"primary",size:"mini"}},[e._v("1 Base = 1 Base")])],1)])])],1),[3,4].includes(e.onType)&&e.showLpAmount>0?t("el-col",{attrs:{span:24,xs:24}},[t("el-form-item",{attrs:{prop:"lpAmount",label:e.showBtn+":("+e.showRemoveLpAmount+")"}},[t("el-slider",{attrs:{marks:e.marks},model:{value:e.form.lpAmount,callback:function(t){e.$set(e.form,"lpAmount",t)},expression:"form.lpAmount"}})],1)],1):e._e()],1),t("el-form-item",{attrs:{prop:"baseToken"}},[t("div",{staticClass:"labelBox",attrs:{slot:"label"},slot:"label"},[t("span",{staticClass:"label"},[e._v(" "+e._s(e.$t("gasPrice.priorityFee"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.$t("sol.faqsDa14"))),t("br"),e._v(" "+e._s(e.$t("sol.faqsDa16"))+" ")]),t("i",{staticClass:"el-icon-question createTipsIcon"})])],1)]),t("ul",{staticClass:"gasBox"},[t("li",{staticClass:"gasList",class:"fast"===e.gas.default?"gasListTrue":"",on:{click:function(t){e.gas.default="fast"}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("batchSwap.fast")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gas.fast))]),t("span",{staticClass:"unit"},[e._v("SOL")])])]),t("li",{staticClass:"gasList",class:"normal"===e.gas.default?"gasListTrue":"",on:{click:function(t){e.gas.default="normal"}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("batchSwap.normal")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gas.normal))]),t("span",{staticClass:"unit"},[e._v("SOL")])])]),t("li",{staticClass:"gasList",class:"slow"===e.gas.default?"gasListTrue":"",on:{click:function(t){e.gas.default="slow"}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("batchSwap.slow")))]),t("span",{staticClass:"value"},[t("span",{staticClass:"number"},[e._v(e._s(e.gas.slow))]),t("span",{staticClass:"unit"},[e._v("SOL")])])]),t("li",{staticClass:"gasList",class:"custom"===e.gas.default?"gasListTrue":"",on:{click:function(t){e.gas.default="custom"}}},[t("span",{staticClass:"name"},[e._v(e._s(e.$t("sol.custom")))]),t("span",{staticClass:"inputBox"},[t("el-input",{staticClass:"inputText",attrs:{size:"mini"},model:{value:e.gas.custom,callback:function(t){e.$set(e.gas,"custom",t)},expression:"gas.custom"}}),t("span",{staticClass:"unit"},[e._v("SOL")])],1)])])])],1),t("div",{staticClass:"btnBox"},[1===e.onType?t("div",{staticClass:"tipsBox"},[t("span",[e._v("Adding to Liquidity Pool: ")]),t("span",{staticClass:"green"},[e._v(e._s(this.form.baseTokenInitialLiquidity)+" Base + "+e._s(this.form.quoteTokenInitialLiquidity)+" Quote")])]):e._e(),[3,4].includes(e.onType)?t("div",{staticClass:"tipsBox"},[t("span",[e._v("Total Lp Amount: ")]),t("span",{staticClass:"green"},[e._v(e._s(e.showLpAmount))])]):e._e(),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isStop,expression:"isStop"}],attrs:{type:"danger"},on:{click:function(t){return e.onStop()}}},[e._v(e._s(e.$t("sol.stop")))]),t("el-button",{attrs:{loading:e.loading.create,type:"primary"},on:{click:function(t){return e.onConfirm()}}},[e._v(e._s(e.showBtn))])],1),t("div",{staticClass:"fqaBox"},[t("h4",[e._v(e._s(e.$t("sol.faqs")))]),t("el-collapse",{attrs:{accordion:""}},[t("el-collapse-item",{attrs:{title:e.$t("sol.faqsWen6"),name:"1"}},[t("div",{staticClass:"collapse_text"},[e._v(e._s(e.$t("sol.faqsDa10")))]),t("div",{staticClass:"collapse_text"},[t("el-link",{attrs:{target:"_blank",href:"/sol/openbook-market",type:"primary"}},[e._v(e._s(e.$t("menu.openbookMarket"))+" "),t("i",{staticClass:"el-icon-link"})])],1)]),t("el-collapse-item",{attrs:{title:e.$t("sol.faqsWen7"),name:"2"}},[t("div",{staticClass:"collapse_text"},[e._v(e._s(e.$t("sol.faqsDa11")))])]),t("el-collapse-item",{attrs:{title:e.$t("sol.faqsWen8"),name:"3"}},[t("div",{staticClass:"collapse_text"},[e._v(e._s(e.$t("sol.faqsDa12")))])]),t("el-collapse-item",{attrs:{title:e.$t("sol.faqsWen9"),name:"4"}},[t("div",{staticClass:"collapse_text"},[e._v(e._s(e.$t("sol.faqsDa13")))])]),t("el-collapse-item",{attrs:{title:e.$t("sol.faqsWen5"),name:"5"}},[t("div",{staticClass:"collapse_text"},[e._v(e._s(e.$t("sol.faqsDa8")))])])],1)],1)],1),t("liquidtiy-success",{attrs:{title:e.loading.title,tx:e.loading.tx,dialogShow:e.loading.dialog},on:{closeDialog:function(t){e.loading.dialog=!1}}}),t("sol-select-token",{attrs:{selectTokenDialog:e.dialog.selectToken,commToken:[],contantToken:e.allListToken,web3:e.web3},on:{closeSelectToken:e.closeSelectToken}})],1)])}),[],!1,null,"2812b5dc",null));t.default=j.exports},4285:function(e,t,n){},7052:function(e,t,n){"use strict";n.d(t,"j",(function(){return m})),n.d(t,"p",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"n",(function(){return v})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return w})),n.d(t,"f",(function(){return g})),n.d(t,"o",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return C})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return I}));var a=n("c7eb"),s=n("1da1"),r=(n("b0c0"),n("d3b7"),n("51d2")),o=n("4360"),i=n("ed08"),c=n("cf29"),l=n("901e"),u=n.n(l),p=n("771e"),d=n("e95b"),m=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s,o){var l,p,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,new o.eth.Contract(r.abi,t);case 3:return l=e.sent,p={name:"balanceOf",erc20:!0,data:[s]},e.next=7,Object(c.d)(l,p);case 7:return d=e.sent,e.abrupt("return",new u.a(Object(i.e)(d,n)));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s){var o,l,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new t.eth.Contract(r.abi,n);case 2:return o=e.sent,l={name:"totalSupply",erc20:!0,data:[]},e.next=6,Object(c.d)(o,l);case 6:return u=e.sent,e.abrupt("return",Object(i.e)(u,s));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s,l){var u,p,d,m;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="getTokenBalance",e.next=4,new l.eth.Contract(r.abi,t);case 4:return p=e.sent,d={name:"balanceOf",erc20:!0,data:[s]},e.next=8,Object(c.d)(p,d,o.a.state.dapp.web3.account,u);case 8:return m=e.sent,e.abrupt("return",Object(i.e)(m,n));case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s,o,i){var l,p,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new i.eth.Contract(r.abi,t);case 2:return l=e.sent,p={name:"allowance",erc20:!0,data:[s,o]},e.next=6,Object(c.d)(l,p);case 6:return d=e.sent,e.abrupt("return",new u.a(d));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,s,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s,o){var i,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new o.eth.Contract(r.abi,t);case 2:return i=e.sent,l={name:"allowance",erc20:!0,data:[n,s]},e.next=6,Object(c.d)(i,l);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n,s,r){var o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,new r.eth.Contract(p.abi,t);case 3:return o=e.sent,i={name:"isApprovedForAll",erc20:!0,data:[n,s]},e.next=7,Object(c.d)(o,i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),T=function(e,t,n){return n.eth.getBalance(e).then((function(e){return new u.a(Object(i.e)(e,t))}))},h=function(e,t,n){return n.eth.getBalance(e).then((function(e){return Object(i.e)(e,t)}))},w=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new n.eth.Contract(r.abi,t);case 2:return s=e.sent,o={name:"symbol",erc20:!0,data:[]},e.next=6,Object(c.d)(s,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new n.eth.Contract(r.abi,t);case 2:return s=e.sent,o={name:"name",erc20:!0,data:[]},e.next=6,Object(c.d)(s,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new n.eth.Contract(p.abi,t);case 2:return s=e.sent,r={name:"supportsInterface",erc20:!0,data:["0x80ac58cd"]},e.next=6,Object(c.d)(s,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new n.eth.Contract(r.abi,t);case 2:return s=e.sent,o={name:"decimals",erc20:!0,data:[]},e.next=6,Object(c.d)(s,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new n.eth.Contract(r.abi,t),o=0,4,i={symbol:null,totalSupply:null,decimals:null,name:null},e.next=6,new Promise((function(e,t){var a=new n.BatchRequest;a.add(s.methods.symbol().call.request({},(function(t,n){o++,t||(i.symbol=n),4===o&&e()}))),a.add(s.methods.totalSupply().call.request({},(function(t,n){o++,t||(i.totalSupply=n),4===o&&e()}))),a.add(s.methods.decimals().call.request({},(function(t,n){o++,t||(i.decimals=n),4===o&&e()}))),a.add(s.methods.name().call.request({},(function(t,n){o++,t||(i.name=n),4===o&&e()}))),a.execute()}));case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,o,i,c,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new n.eth.Contract(r.abi,t),i=(o=["0x000000000000000000000000000000000000dead","0x0000000000000000000000000000000000000000","0x0000000000000000000000000000000000000001"]).length,c=["0","0","0"],l=0,e.next=7,new Promise((function(e,t){var a=new n.BatchRequest;a.add(s.methods.balanceOf(o[0]).call.request({},(function(t,n){l++,t||(c[0]=n,l===i&&e())}))),a.add(s.methods.balanceOf(o[1]).call.request({},(function(t,n){l++,t||(c[1]=n,l===i&&e())}))),a.add(s.methods.balanceOf(o[2]).call.request({},(function(t,n){l++,t||(c[2]=n,l===i&&e())}))),a.execute()}));case 7:return e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,r,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new n.eth.Contract(d.abi,t),2,r=0,o={token0:null,token1:null},e.next=6,new Promise((function(e,t){var a=new n.BatchRequest;a.add(s.methods.token0().call.request({},(function(t,n){r++,t||(o.token0=n,2===r&&e())}))),a.add(s.methods.token1().call.request({},(function(t,n){r++,t||(o.token1=n,2===r&&e())}))),a.execute()}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t,n){var s,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new n.eth.Contract(d.abi,t);case 2:return s=e.sent,r={name:"getReserves",erc20:!0,data:[]},e.next=6,Object(c.d)(s,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"771e":function(e){e.exports=JSON.parse('{"contractName":"ERC721","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"addAuthorization","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"armzs","outputs":[{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"lastFight","type":"uint256"},{"internalType":"uint256","name":"mana","type":"uint256"},{"internalType":"uint8","name":"maxMana","type":"uint8"},{"internalType":"uint8","name":"hourMana","type":"uint8"},{"internalType":"uint8","name":"rarity","type":"uint8"},{"internalType":"uint8","name":"boostWinrate","type":"uint8"},{"internalType":"uint8","name":"nbBoost","type":"uint8"},{"internalType":"uint32","name":"id","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"},{"internalType":"string","name":"image","type":"string"},{"internalType":"uint8","name":"maxMana","type":"uint8"},{"internalType":"uint8","name":"boostWinrate","type":"uint8"},{"internalType":"uint8","name":"nbBoost","type":"uint8"},{"internalType":"uint8","name":"rarity","type":"uint8"}],"name":"create","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"factoryAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getArmz","outputs":[{"components":[{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"lastFight","type":"uint256"},{"internalType":"uint256","name":"mana","type":"uint256"},{"internalType":"uint8","name":"maxMana","type":"uint8"},{"internalType":"uint8","name":"hourMana","type":"uint8"},{"internalType":"uint8","name":"rarity","type":"uint8"},{"internalType":"uint8","name":"boostWinrate","type":"uint8"},{"internalType":"uint8","name":"nbBoost","type":"uint8"},{"internalType":"uint32","name":"id","type":"uint32"}],"internalType":"struct Armz","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"getCollection","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_new","type":"address"}],"name":"setFactoryAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"string","name":"image","type":"string"},{"internalType":"uint256","name":"lastFight","type":"uint256"},{"internalType":"uint256","name":"mana","type":"uint256"},{"internalType":"uint8","name":"maxMana","type":"uint8"},{"internalType":"uint8","name":"hourMana","type":"uint8"},{"internalType":"uint8","name":"rarity","type":"uint8"},{"internalType":"uint8","name":"boostWinrate","type":"uint8"},{"internalType":"uint8","name":"nbBoost","type":"uint8"},{"internalType":"uint32","name":"id","type":"uint32"}],"internalType":"struct Armz","name":"armz","type":"tuple"}],"name":"update","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},"7bb8":function(e,t,n){"use strict";(function(e){var a=n("c7eb"),s=n("1da1"),r=n("5530"),o=(n("4de4"),n("c740"),n("14d9"),n("b0c0"),n("d3b7"),n("ac1f"),n("5319"),n("c0d8"),n("b893")),i=(n("7052"),n("2f62")),c=n("89c1"),l=n.n(c),u=n("ed08"),p=n("7dbe5"),d=n("64b9"),m=n("9ab6");n("05b3"),t.a={name:"SolSelectToken",props:{web3:{type:Object},selectTokenDialog:{type:Boolean,default:!1},commToken:{type:Array},contantToken:{type:Array}},computed:Object(r.a)(Object(r.a)({},Object(i.d)({device:function(e){return e.app.device}})),{},{showSearchToken:function(){var e=this;return this.inputAddress?this.contantToken.filter((function(t){return Object(o.B)(t.address)===Object(o.B)(e.inputAddress)})):this.contantToken}}),components:{VirtualList:l.a},data:function(){return{hiddenAddress:u.l,itemComponent:{},inputAddress:"",activeName:"all",loading:!1,pathSymbol:""}},methods:{onSelect:function(e){this.$emit("closeSelectToken",e)},handleClose:function(){this.$emit("closeSelectToken")},searchInput:function(t){var n=this;return Object(s.a)(Object(a.a)().mark((function s(){var r,i,c,l,u,f;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(Object(p.n)(t)){a.next=3;break}return a.abrupt("return");case 3:if(a.prev=3,!(n.contantToken.findIndex((function(e){return Object(o.B)(e.address)===Object(o.B)(n.inputAddress)}))>=0)){a.next=6;break}return a.abrupt("return");case 6:return n.loading=!0,a.next=9,Object(p.h)(n.web3,t);case 9:if(r=a.sent){a.next=12;break}return a.abrupt("return");case 12:return i=new d.PublicKey(t),a.next=15,d.PublicKey.findProgramAddressSync([e.from("metadata"),m.PROGRAM_ID.toBuffer(),i.toBuffer()],m.PROGRAM_ID);case 15:return c=a.sent[0],a.next=18,m.Metadata.fromAccountAddress(n.web3,c).catch((function(){return null}));case 18:if(!(l=a.sent)){a.next=29;break}return a.next=22,fetch(l.data.uri.replace(/\u0000/g,"")).catch((function(){return!1}));case 22:if(u=a.sent,f={image:"https://cdn.jsdelivr.net/gh/CoinTool-App/cdn@main/pic/unknown-token.png"},!u){a.next=28;break}return a.next=27,u.json();case 27:f=a.sent;case 28:n.contantToken.push({address:t,symbol:l.data.symbol.replace(/\u0000/g,""),name:l.data.name.replace(/\u0000/g,""),decimals:r.decimals,logo:f.image.replace(/\u0000/g,"")});case 29:return a.prev=29,n.loading=!1,a.finish(29);case 32:case"end":return a.stop()}}),s,null,[[3,,29,32]])})))()}},created:function(){this.pathSymbol=this.$route.meta.symbol}}}).call(this,n("1c35").Buffer)},9048:function(e,t,n){"use strict";n("4285")},b3d3:function(e,t,n){"use strict";n("b0c0");var a=n("7bb8").a,s=(n("9048"),n("2877")),r=Object(s.a)(a,(function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("batchSwap.selectToken"),visible:e.selectTokenDialog,width:"mobile"===e.device?"100%":"500px",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.selectTokenDialog=t}}},[t("div",{staticClass:"dialogBox"},[t("div",{staticClass:"inputBox"},[t("el-input",{attrs:{size:"medium","prefix-icon":"el-icon-search",placeholder:e.$t("batchSwap.searchTips"),clearable:""},on:{input:e.searchInput},model:{value:e.inputAddress,callback:function(t){e.inputAddress=t},expression:"inputAddress"}})],1),t("ul",{staticClass:"baseCoin"},e._l(e.commToken,(function(n){return t("li",{key:n.name,on:{click:function(t){return e.onSelect(n)}}},[t("el-image",{staticClass:"img",attrs:{src:n.logo}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/TokenTool-App/cdn/pic/unknown-token.png"}})])]),t("span",{staticClass:"symbol"},[e._v(e._s(n.symbol))])],1)})),0),t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"All",name:"all"}},[t("virtual-list",{staticClass:"coinList",attrs:{"data-key":"address","data-sources":e.showSearchToken,"data-component":e.itemComponent},scopedSlots:e._u([{key:"item",fn:function(n){n.index;var a=n.item;return[t("div",{staticClass:"tokenInfo",on:{click:function(t){return e.onSelect(a)}}},[t("div",{staticClass:"leftBox"},[t("el-image",{staticClass:"img",attrs:{src:a.logo}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("img",{staticClass:"img",attrs:{src:"https://cdn.jsdelivr.net/gh/TokenTool-App/cdn/pic/unknown-token.png"}})])]),t("div",{staticClass:"vertical-middle"},[t("span",{staticClass:"symbol"},[e._v(e._s(a.symbol))]),t("span",{staticClass:"fullName"},[e._v(e._s(a.name))])])],1),t("div",{staticClass:"rightBox"},[e._v(" "+e._s(e.hiddenAddress(a.address))+" "),t("i",{staticClass:"el-icon-link copyIcon"}),t("i",{staticClass:"el-icon-copy-document copyIcon"})])])]}}])}),t("p",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&0===e.showSearchToken.length,expression:"!loading && showSearchToken.length === 0"}],staticClass:"noData"},[e._v(e._s(e.$t("batchSwap.noFindToken")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loadingBox"},[t("div",{staticClass:"loading"},[t("div",{staticStyle:{background:"#42b983"}}),t("div",{staticStyle:{background:"#42b983"}}),t("div",{staticStyle:{background:"#42b983"}}),t("div",{staticStyle:{background:"#42b983"}})])])],1)],1)],1)])}),[],!1,null,"458d8862",null);t.a=r.exports},e675:function(e,t,n){}}]);